(()=>{"use strict";const t="ðŸ”« Initialization",e=100,n=.1,o=5,i=3,c=.1*i,r=.05,a=.4,l=3*a,d=40;let s=!1;const u=new Set,f=new Set;function m(t,e){return n=>{const o=n.getBoundingClientRect(),i=o.top+t,c=o.left+e;return{top:i,left:c,y:i+o.height/2,x:c+o.width/2,height:o.height,width:o.width}}}function p(t,e,n){const o=m(t,e);return t=>{f.add({...o(t),elem:t,type:n})}}function h(t,e){const n=m(t,e);f.forEach((t=>{Object.assign(t,{...n(t.elem)})}))}function y(){return 2*Math.random()-1}let g,w,x,E;function v(){const t=function(){const t=s?n:1,e=r*t**2;return n=>{const o=n.x+n.xVelocity*t,i=n.y+n.yVelocity*t,c=n.rotation+n.rotationSpeed*t;Object.assign(n,{x:o,y:i,yVelocity:n.yVelocity+e,rotation:c})}}();u.forEach((e=>{t(e),function(t,e){const{x:n,y:o}=t,i=t.initLeft+n,c=t.initTop+o;i>=x+g||i<-t.elem.width||Number.isNaN(t.elem.width)||c>=E+w?e():t.elem.style.transform=`translate(${n}px, ${o}px) rotate3d(${t.rotationX}, ${t.rotationY}, ${t.rotationZ}, ${t.rotation}deg)`}(e,(()=>{u.delete(e),e.elem.remove()}))})),requestAnimationFrame(v)}const b="letter",$="shard",C=["absolute","fixed"],L=["IMG","CANVAS"];function S(t){try{if(L.includes(t.tagName))return void function(t){const e=p(w,g,$),n=[],{clientWidth:o,clientHeight:i}=t,c=Math.ceil(o/d),r=Math.ceil(i/d);for(let e=0;e<r;e++)for(let r=0;r<c;r++){const c=document.createElement("canvas"),a=r*d,l=e*d,s=a+d>t.clientWidth?o-a:d,u=l+d>t.clientHeight?i-l:d;c.width=s,c.height=u,c.getContext("2d").drawImage(t,a,l,s,u,0,0,s,u),n.push(c)}const a=document.createElement("div");let l=C.includes(t.style.position);Object.assign(a.style,{...l?{position:"absolute",top:`${t.offsetTop}px`,left:`${t.offsetLeft}px`}:{},width:`${o}px`,height:`${i}px`,display:"flex","flex-wrap":"wrap"}),a.append(...n),t.parentNode.replaceChild(a,t),n.forEach(e)}(t);(e=t).childNodes.forEach((t=>{if(!t.nodeValue)return;const n=p(w,g,b),o=t.nodeValue,i=[];for(const t of o){const e=document.createElement("span");e.textContent=t,i.push(e)}t.remove(),e.prepend(...i),i.forEach(n)}))}catch{}var e}function N(t){return"none"!==window.getComputedStyle(t).display}function V(t){t.stopImmediatePropagation(),t.preventDefault();const{pageX:n,pageY:r,ctrlKey:d,metaKey:s}=t;!function(t,n,r,d){const s=e*(r?o:1);f.forEach((e=>{const o=(r=t,m=n,((e.x-r)**2+(e.y-m)**2)**.5);var r,m;if(o>s)return;f.delete(e);const p=o/i,h=(g=c,(2*Math.random()-1)*g);var g;const w=(e.x-t)/p+h,x=(e.y-n)/p+h;u.add({elem:d(e),x:0,y:0,initTop:e.top,initLeft:e.left,xVelocity:w,yVelocity:x,rotation:0,rotationX:y(),rotationY:y(),rotationZ:y(),rotationSpeed:Math.random()*(l-a)+a})}))}(n,r,d||s,(t=>{switch(t.type){case b:return function(t){const e=document.createElement("div");return e.textContent=t.elem.textContent,Object.assign(e.style,{position:"absolute",top:`${t.elem.offsetTop}px`,left:`${t.elem.offsetLeft}px`,height:`${t.height}px`,width:`${t.width}px`,display:"flex","align-items":"center"}),t.elem.parentNode.prepend(e),t.elem.style.visibility="hidden",e}(t);case $:return function(t){const e=document.createElement("canvas");return e.width=t.elem.width,e.height=t.elem.height,e.getContext("2d").drawImage(t.elem,0,0),e.textContent=t.elem.textContent,Object.assign(e.style,{position:"absolute",top:`${t.elem.offsetTop}px`,left:`${t.elem.offsetLeft}px`,"box-shadow":"0 0 3px 0 rgba(0, 0, 0, 0.16), 0 0 3px 0 rgba(0, 0, 0, 0.23)"}),t.elem.parentNode.prepend(e),t.elem.style.visibility="hidden",e}(t);default:throw Error("undefined target type")}}))}window.startShooting=()=>{"complete"===window.document.readyState?(console.time(t),function(t=(()=>{}),e=(()=>{})){function n(n){const o=n.shiftKey;o&&!s?(t(),s=!0):!o&&s&&(e(),s=!1)}window.document.addEventListener("keydown",n),window.document.addEventListener("keyup",n)}(),function(t){function e(){g=document.documentElement.scrollLeft,w=document.documentElement.scrollTop}function n(){x=document.documentElement.clientWidth,E=document.documentElement.clientHeight,t(w,g)}window.addEventListener("scroll",e),window.addEventListener("resize",n),e(),n()}(h),function(){const t=document.querySelectorAll("body *");Array.prototype.filter.call(t,N).forEach(S)}(),function(t){const e=document.createElement("div");Object.assign(e.style,{cursor:"crosshair","user-select":"none",position:"fixed",top:0,width:"100%",height:"100%"}),e.addEventListener("click",t),document.body.append(e)}(V),v(),console.timeEnd(t),alert("Hold `Shift` for slow motion.\n\nHold `Cmd` or `Ctrl` to increase damage.\n\nReload a page to reset.")):console.error("Page isn't ready")}})();